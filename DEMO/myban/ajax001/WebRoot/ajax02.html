<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <meta http-equiv="keywords" content="keyword1,keyword2,keyword3">
    <meta http-equiv="description" content="this is my page">
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <title>ajax02_练习ajax的get请求获取数据</title>
	<script type="text/javascript" src="scripts/jquery-1.11.1.js"></script>
    <script type="text/javascript">
    	function getText(){
    		//1.获取xhr对象
    		var xhr = getXhr();
    		//2.定义回调函数，响应成功后调用该方法
    		xhr.onreadystatechange = function(){
    			if(xhr.readyState == 4 && xhr.status == 200){
    				var txt = xhr.responseText;//获取响应对象中的文本
    				$("p").text(txt);//将获取到的文本信息放入指定的input文本框	//异常，获取不到文本框，因为没有引入jquest.js文件。
    				//alert(txt);
    			}
    		};
    		//3.创建请求		get请求，异步请求
    		xhr.open("get", "get_text.do", true);
    		//4.发送请求
    		xhr.send(null);
    	}
    	function getXhr(){
    		var xhr = null;
    		if(window.XMLHttpRequest){
    			xhr = new XMLHttpRequest();
    		} else {
    			xhr = new ActionXObject();
    		}
    		return xhr;//不要忘记返回xhr对象
    	}
    </script>
  </head>
  <body>
    	
		<h1>
			<a href="javascript:" onclick="getText();">获取文本</a>		
			<input type="text" id="message"></input>
			<p></p>
		</h1>    
  </body>
</html>
